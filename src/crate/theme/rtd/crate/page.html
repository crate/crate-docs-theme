{# Layout: This is used by _every_ Sphinx content page #}
{% extends "basic-ng/page.html" %}

{% block head_extra %}
  <script src="{{ pathto('_static/bundle/main.js', 1) }}?ver={{ theme_ver }}"></script>

  <!-- Algolia DNS Prefetch -->
  <link rel="preconnect" href="https://az1nev7cg0-dsn.algolia.net" crossorigin />
  <!-- Algolia stylesheet -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WHMDSK');</script>
    <!-- End Google Tag Manager -->

  <noscript>
      <style>
          .cr-nojs-hide { display: none; }
      </style>
  </noscript>

  {%- if custom_baseurl %}
  {%- set canonical_page = pagename + ".html" %}
  <!--
  Always link to the latest version, as canonical.
  https://docs.readthedocs.io/en/stable/canonical-urls.html
  -->
  <link rel="canonical" href="{{ custom_baseurl|e }}{{ canonical_page }}" />
  {%- endif %}

{% endblock %}

{% block header %}
<header class="sb-header header-nav" id="top">
  <div class="sb-header__inner sb-page-width">
    {% include "sections/header.html" %}
  </div>
</header>
{% endblock header %}

{% block header_secondary %}
{% endblock header_secondary %}

{% block container %}
<div class="sb-container">
  <div class="sb-container__inner sb-page-width">
    {% block sidebar_primary %}
    <aside class="sb-sidebar-primary">
      {% include "sections/sidebar-primary.html" %}
    </aside>
    {% endblock sidebar_primary %}
    <main class="sb-main">
      {% block header_content %}
      <header class="sb-header-content">
        <div class="sb-header-content__inner">
          {% include "sections/header-content.html" %}
        </div>
      </header>
      {% endblock header_content %}
      <div class="sb-content">
        {% block content %}
        <div class="sb-article-container container-fluid">
          <header class="sb-header-article">
            {% include "sections/header-article.html" %}
          </header>
          <article class="sb-article" role="main">
            {% include "sections/article.html" %}
          </article>
          <footer class="sb-footer-article">
            {% include "sections/footer-article.html" %}
          </footer>
        </div>
        {% endblock content %}
        {% block sidebar_secondary %}
        <aside class="sb-sidebar-secondary">
          {% include "sections/sidebar-secondary.html" %}
        </aside>
        {% endblock sidebar_secondary %}
      </div>
      {% block footer_content %}
      {% endblock footer_content %}
    </main>
  </div>
</div>
{% endblock container %}

{# Include Furo icons as first body element #}
{% block body -%}
{% include "partials/icons.html" %}
{{ super() }}
{% endblock %}

{% block footer %}
<footer class="sb-footer">
  <div class="footer-subscription cr-nojs-hide">
    <div class="content-wrapper container">
      <div class="row">
        <div class="col-md-3">
          <h4>Subscribe to the CrateDB Newsletter now</h4>
        </div>
        <div class="col-md-9">
          <div class="footer-subs-form">
            <!--[if lte IE 8]>
            <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script>
            <![endif]-->
            <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script>
            <script>
              hbspt.forms.create({
                region: "na1",
                portalId: "19927462",
                formId: "76d1441f-eef8-4e8e-950d-9b66bf24bd8e"
              });
            </script>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="sb-footer__inner sb-page-width">
    {% include "sections/footer.html" %}
  </div>
</footer>
{% endblock footer %}
