<ul class="toctree nav nav-list">

  {% if project == 'SQL 99' %}

  <li class="current">
    <a class="current-active" href="{{ pathto(master_doc) }}">SQL-99 Complete, Really</a>
    {{ toctree(maxdepth=2|toint, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
  </li>

  {% else %}

  <!-- Search. -->
  <li>
    <div class="search-link">
      <div id="docsearch" style="min-height: 36px; margin-bottom: 20px;"></div>
    </div>
  </li>

  <!-- Section A. -->

  {% if project == 'CrateDB: Guide' %}
    <!-- Overview (Home) at top level -->
    {% if pagename == 'home/index' %}
      <li class="navleft-item current"><a class="current-active" href="{{ pathto('home/index') }}">Overview</a></li>
    {% else %}
      <li class="navleft-item"><a href="{{ pathto('home/index') }}">Overview</a></li>
    {% endif %}
    
    <!-- Getting Started at top level -->
    {% if pagename.startswith('start/') %}
      <li class="current">
        <a class="current-active" href="{{ pathto('start/index') }}">Getting Started</a>
        <!-- Manual list of Getting Started subpages -->
        <ul>
          {% if pagename == 'start/first-steps' %}
            <li class="current"><a class="current-active" href="{{ pathto('start/first-steps') }}">First Steps</a></li>
          {% else %}
            <li><a href="{{ pathto('start/first-steps') }}">First Steps</a></li>
          {% endif %}
          
          {% if pagename == 'start/going-further' %}
            <li class="current"><a class="current-active" href="{{ pathto('start/going-further') }}">Going Further</a></li>
          {% else %}
            <li><a href="{{ pathto('start/going-further') }}">Going Further</a></li>
          {% endif %}
          
          {% if pagename.startswith('start/modelling/') %}
            <li class="current"><a class="current-active" href="{{ pathto('start/modelling/index') }}">Data Modelling</a></li>
          {% else %}
            <li><a href="{{ pathto('start/modelling/index') }}">Data Modelling</a></li>
          {% endif %}
          
          {% if pagename.startswith('start/query/') %}
            <li class="current"><a class="current-active" href="{{ pathto('start/query/index') }}">Query</a></li>
          {% else %}
            <li><a href="{{ pathto('start/query/index') }}">Query</a></li>
          {% endif %}
          
          {% if pagename.startswith('start/application/') %}
            <li class="current"><a class="current-active" href="{{ pathto('start/application/index') }}">Sample Applications</a></li>
          {% else %}
            <li><a href="{{ pathto('start/application/index') }}">Sample Applications</a></li>
          {% endif %}
        </ul>
      </li>
    {% else %}
      <li class="navleft-item"><a href="{{ pathto('start/index') }}">Getting Started</a></li>
    {% endif %}
    
    <!-- Guide as parent containing remaining sections -->
    {% if pagename.startswith('install/') or pagename.startswith('connect/') or pagename.startswith('feature/') or pagename.startswith('ingest/') or pagename.startswith('topic/') or pagename.startswith('solution/') or pagename.startswith('integrate/') or pagename.startswith('admin/') or pagename.startswith('performance/') or pagename == 'index' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">Guide</a>
        <!-- Manual list of Guide sections excluding Overview and Getting Started -->
        <ul>
          {% if pagename.startswith('install/') %}
            <li class="current"><a class="current-active" href="{{ pathto('install/index') }}">Installation</a></li>
          {% else %}
            <li><a href="{{ pathto('install/index') }}">Installation</a></li>
          {% endif %}
          
          {% if pagename.startswith('connect/') %}
            <li class="current"><a class="current-active" href="{{ pathto('connect/index') }}">Connect</a></li>
          {% else %}
            <li><a href="{{ pathto('connect/index') }}">Connect</a></li>
          {% endif %}
          
          {% if pagename.startswith('feature/') %}
            <li class="current"><a class="current-active" href="{{ pathto('feature/index') }}">Features</a></li>
          {% else %}
            <li><a href="{{ pathto('feature/index') }}">Features</a></li>
          {% endif %}
          
          {% if pagename.startswith('ingest/') %}
            <li class="current"><a class="current-active" href="{{ pathto('ingest/index') }}">Ingestion</a></li>
          {% else %}
            <li><a href="{{ pathto('ingest/index') }}">Ingestion</a></li>
          {% endif %}
          
          {% if pagename.startswith('topic/') %}
            <li class="current"><a class="current-active" href="{{ pathto('topic/index') }}">Topics</a></li>
          {% else %}
            <li><a href="{{ pathto('topic/index') }}">Topics</a></li>
          {% endif %}
          
          {% if pagename.startswith('solution/') %}
            <li class="current"><a class="current-active" href="{{ pathto('solution/index') }}">Solutions</a></li>
          {% else %}
            <li><a href="{{ pathto('solution/index') }}">Solutions</a></li>
          {% endif %}
          
          {% if pagename.startswith('integrate/') %}
            <li class="current"><a class="current-active" href="{{ pathto('integrate/index') }}">Integrations</a></li>
          {% else %}
            <li><a href="{{ pathto('integrate/index') }}">Integrations</a></li>
          {% endif %}
          
          {% if pagename.startswith('admin/') %}
            <li class="current"><a class="current-active" href="{{ pathto('admin/index') }}">Administration</a></li>
          {% else %}
            <li><a href="{{ pathto('admin/index') }}">Administration</a></li>
          {% endif %}
          
          {% if pagename.startswith('performance/') %}
            <li class="current"><a class="current-active" href="{{ pathto('performance/index') }}">Performance</a></li>
          {% else %}
            <li><a href="{{ pathto('performance/index') }}">Performance</a></li>
          {% endif %}
        </ul>
      </li>
    {% else %}
      <li class="navleft-item"><a href="{{ pathto(master_doc) }}">Guide</a></li>
    {% endif %}
  {% else %}
    <li class="navleft-item"><a href="/docs/guide/">Guides and Tutorials</a></li>
  {% endif %}

  {% if project == 'CrateDB Cloud' %}
    <li class="current">
      <a class="current-active" href="{{ pathto(master_doc) }}">CrateDB Cloud</a>
      {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=True, includehidden=theme_globaltoc_includehidden|tobool) }}
    </li>
  {% else %}
    <li class="navleft-item"><a href="/docs/cloud/">CrateDB Cloud</a></li>
  {% endif %}

  {% if project == 'CrateDB: Reference' %}
    <li class="current">
      <a class="current-active" href="{{ pathto(master_doc) }}">Reference Manual</a>
      {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=True, includehidden=theme_globaltoc_includehidden|tobool) }}
    </li>
  {% else %}
    <li class="navleft-item"><a href="/docs/crate/reference/">Reference Manual</a></li>
  {% endif %}


  <!-- Section B. -->
  {% if project == 'CrateDB: Admin UI' %}
  <li class="current border-top">
    <a class="current-active" href="{{ pathto(master_doc) }}">Admin UI</a>
    {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=True, includehidden=theme_globaltoc_includehidden|tobool) }}
  </li>
  {% else %}
  <li class="navleft-item border-top"><a href="/docs/crate/admin-ui/">Admin UI</a></li>
  {% endif %}

  {% if project == 'CrateDB: Crash CLI' %}
  <li class="current">
    <a class="current-active" href="{{ pathto(master_doc) }}">CrateDB CLI</a>
    {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
  </li>
  {% else %}
  <li class="navleft-item"><a href="/docs/crate/crash/">CrateDB CLI</a></li>
  {% endif %}

  {% if project == 'CrateDB Cloud: Croud CLI' %}
  <li class="current">
    <a class="current-active" href="{{ pathto(master_doc) }}">Cloud CLI</a>
    {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
  </li>
  {% else %}
  <li class="navleft-item"><a href="/docs/cloud/cli/">Cloud CLI</a></li>
  {% endif %}

  <li class="navleft-item">
    <a href="/docs/guide/connect/drivers.html">Database Drivers</a>
  </li>
  {%
  set driver_projects = [
    'CrateDB JDBC', 'CrateDB DBAL', 'CrateDB PDO', 'CrateDB Python', 'SQLAlchemy Dialect', 'CrateDB Npgsql'
  ]
  %}
  {% if project in driver_projects or (project == 'CrateDB: Guide' and pagename.startswith('connect')) %}
  <li>
    <ul>
      <!-- Section C. -->
      {% if project == 'CrateDB JDBC' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">JDBC</a>
        {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
      </li>
      {% else %}
      <li class="navleft-item"><a href="/docs/jdbc/">JDBC</a></li>
      {% endif %}
      {% if project == 'CrateDB DBAL' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">PHP DBAL</a>
        {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
      </li>
      {% else %}
      <li class="navleft-item"><a href="/docs/dbal/">PHP DBAL</a></li>
      {% endif %}
      {% if project == 'CrateDB PDO' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">PHP PDO</a>
        {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
      </li>
      {% else %}
      <li class="navleft-item"><a href="/docs/pdo/">PHP PDO</a></li>
      {% endif %}
      {% if project == 'CrateDB Python' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">Python</a>
        {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
      </li>
      {% else %}
      <li class="navleft-item"><a href="/docs/python/">Python</a></li>
      {% endif %}
      {% if project == 'SQLAlchemy Dialect' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">SQLAlchemy</a>
        {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
      </li>
      {% else %}
      <li class="navleft-item"><a href="/docs/sqlalchemy-cratedb/">SQLAlchemy</a></li>
      {% endif %}
      {% if project == 'CrateDB Npgsql' %}
      <li class="current">
        <a class="current-active" href="{{ pathto(master_doc) }}">.NET Npgsql</a>
        {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
      </li>
      {% else %}
      <li class="navleft-item"><a href="/docs/npgsql/">.NET Npgsql</a></li>
      {% endif %}
    </ul>
  </li>
  {% endif %}

  <!-- Section D. -->
  <li class="navleft-item border-top"><a target="_blank" href="/support/">Support</a></li>
  <li class="navleft-item"><a target="_blank" href="https://community.cratedb.com/">Community</a></li>
  <li class="navleft-item"><a target="_blank" href="https://community.cratedb.com/t/overview-of-cratedb-integration-tutorials/1015">Integration Tutorials</a></li>
  <li class="navleft-item"><a href="/docs/guide/start/application/index.html">Sample Applications</a></li>
  <li class="navleft-item"><a target="_blank" href="https://learn.cratedb.com">Academy</a></li>

  <!-- Section E. -->
  {% if project == 'CrateDB documentation theme' %}
    <li class="current border-top">
      <a class="current-active" href="{{ pathto(master_doc) }}">Documentation theme</a>
      {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=True, includehidden=theme_globaltoc_includehidden|tobool) }}
    </li>
  {% endif %}

  {% if project == 'Doing Docs' %}
  <li class="current">
    <a class="current-active" href="{{ pathto(master_doc) }}">Doing Docs at CrateDB</a>
    {{ toctree(maxdepth=-1|toint, titles_only=True, collapse=False, includehidden=theme_globaltoc_includehidden|tobool) }}
  </li>
  {% endif %}

  {% endif %}

</ul>
