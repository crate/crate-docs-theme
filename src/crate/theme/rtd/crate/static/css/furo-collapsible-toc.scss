/*
 * Furo-Compatible Collapsible Navigation styling for CrateDB Theme
 */

/* TOC section captions */
ul.toctree.nav p.caption {
  margin-top: 1.25rem;
  margin-bottom: 0.25rem;
  padding-top: 0;
  padding-bottom: 0;
  font-size: 13px;  /* Match TOC link size */
}

/* Caption icons in navigation */
.caption-icon {
  width: 14px;
  height: 14px;
  margin-right: 6px;
  vertical-align: -1px;
  display: inline-block;
}

/*
 * Animate the expand/collapse icon rotation when a section is toggled.
 * Gated on .toc-animations-ready so the transition does not fire during the
 * initial page-load state restoration (where JS sets checkbox.checked
 * synchronously before the first paint).
 */
.toc-animations-ready .toctree-checkbox ~ label .icon svg {
  transition: transform 200ms ease;
}

.bs-docs-sidenav.sidebar-tree {
  /* Match label height to our link height */
  li.has-children > label {
    margin-top: inherit;
    /* Calculate height: 8px total vertical padding + (14px font-size * 1.2 line-height) */
    height: calc(8px + 14px * 1.2);
  }

  /* Override Furo's colors to match our theme */
  .reference,
  a,
  li label .icon
  {
    color: var(--color-sidebar-left-link);
  }

  /* Add hover background to links */
  .reference:hover,
  a:hover {
    background: var(--color-sidebar-item-background--hover);
  }

  /* Adjust indentation for nested items */
  ul {
    margin-left: 0;
    li {
      padding-left: var(--sidebar-item-spacing-horizontal);
    }
  }
}
