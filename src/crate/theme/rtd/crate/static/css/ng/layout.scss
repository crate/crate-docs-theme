/**
 * Page layout, based on sphinx-basic-ng.
 *
 * - Prevent a few sections from scrolling out of the view port, by making them sticky.
 * - Define placement and layout of sidebar drawer icons.
 *
 * Hint: Use CSS' `sticky` instead of `fixed`.
 * https://dev.to/luisaugusto/stop-using-fixed-headers-and-start-using-sticky-ones-1k30
**/

// Make header sticky and only show on desktop devices
.sb-header {
  position: sticky;
  top: 0;
  z-index: 200;
  display: none;
}

@media all and (min-width: 67rem) {
  header.sb-header {
    display: block;
  }
}

// Make sidebars sticky.
.sidebar-drawer,
.toc-drawer {
  position: sticky;
  top: 3em;
}

// Sidebar: Adjust drawer icon positioning and size.
.sidebar-container-primary {
  float: left;

  i {
    height: $sidebar-drawer-icon-size;
    width: $sidebar-drawer-icon-size;
  }
}

.sidebar-container-secondary {
  float: right;

  i {
    height: $sidebar-drawer-icon-size;
    width: $sidebar-drawer-icon-size;
  }
}

// Searchbox and feedback/versionchooser in same row
.sb-header-content__inner .container-fluid {
  display: flex;
  justify-content: space-between;
  padding-top: 1em;
  padding-bottom: 1em;
  align-items: center;
}

// Center header and footer
.sb-header .sb-header__inner.sb-page-width,
.sb-footer .sb-footer__inner.sb-page-width {
  margin: 0 auto;
}

// Fix sidebar z-index
.sb-sidebar-primary {
  z-index: 50;
}

// Skeleton override for fluid layout
.sb-content article.sb-article {
  padding: 0;
}

// Override for mobile header
.mobile-header {
  width: auto !important;
}

@media all and (max-width: 767px) {
  .sb-article-container.container-fluid {
    width: 100vw !important;
  }
}

@media all and (max-width: 560px) {
  .sb-header-content__inner .container-fluid {
    flex-wrap: wrap;
    gap: 6px;
  }

  .mobile-header {
    width: 100% !important;
  }

  .brand.w-nav-brand img {
    max-width: 150px;
  }

  // Position sidebar over logo 
  .sb-sidebar-secondary {
    z-index: 11;
  }
}
